$(function(){readNames=function(){return $("#names").val().split("\n")},outputNamesToDiv=function(r,e){$.each(e,function(e,n){var t=$("<p></p>").text(n);0<t.length&&$(r).append(t)})},random=function(e){return Math.floor(Math.random()*e)},randomize=function(e){var n;for(n=0;n<e.length;n++){var t=random(e.length);if(t!=n){var r=e[t];e[t]=e[n],e[n]=r}}return e},order=function(){var e=readNames();$("#ordered").html(""),$("#random").html(""),outputNamesToDiv("#ordered",e.sort()),outputNamesToDiv("#random",randomize(e))},handleFiles=function(e){var n;for(n=0;n<e.length;n++){var t=e[n];if(t.type.startsWith("text/")){var r=new FileReader;r.addEventListener("load",function(){var e=r.result;$("#names").val(e),order()},!1),r.readAsText(t)}}},$("#order").click(function(e){e.preventDefault(),order()}),$("#names").change(function(e){e.preventDefault(),order()}),$("#names").on("paste",function(e){setTimeout(function(){order()},0)}),$("#names").on("dragover",function(e){e.preventDefault(),e.stopPropagation()}),$("#names").on("dragenter",function(e){e.preventDefault(),e.stopPropagation()}),$("#names").on("drop",function(e){e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.files.length&&(e.preventDefault(),e.stopPropagation(),handleFiles(e.originalEvent.dataTransfer.files))}),window.File&&window.FileReader&&window.FileList&&window.Blob||alert("Your browser is too old to support HTML5 File's API.")});